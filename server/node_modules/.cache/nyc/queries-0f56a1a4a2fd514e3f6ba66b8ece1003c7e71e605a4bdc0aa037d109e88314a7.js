function cov_qmnc59uwy(){var path="C:\\Users\\admin\\Desktop\\Andela\\Capstone\\UI\\My-BRAND-Raphaela\\server\\routes\\queries.js";var hash="01769949e6339b71d3cc246fbfb1ef5b8972e62e";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"C:\\Users\\admin\\Desktop\\Andela\\Capstone\\UI\\My-BRAND-Raphaela\\server\\routes\\queries.js",statementMap:{"0":{start:{line:1,column:12},end:{line:1,column:39}},"1":{start:{line:2,column:14},end:{line:2,column:45}},"2":{start:{line:3,column:15},end:{line:3,column:39}},"3":{start:{line:4,column:16},end:{line:4,column:36}},"4":{start:{line:5,column:0},end:{line:12,column:2}},"5":{start:{line:6,column:4},end:{line:11,column:5}},"6":{start:{line:7,column:24},end:{line:7,column:44}},"7":{start:{line:8,column:8},end:{line:8,column:38}},"8":{start:{line:10,column:8},end:{line:10,column:53}},"9":{start:{line:13,column:0},end:{line:22,column:2}},"10":{start:{line:14,column:4},end:{line:20,column:5}},"11":{start:{line:15,column:21},end:{line:15,column:31}},"12":{start:{line:16,column:22},end:{line:16,column:46}},"13":{start:{line:17,column:8},end:{line:17,column:36}},"14":{start:{line:19,column:8},end:{line:19,column:53}},"15":{start:{line:24,column:0},end:{line:35,column:2}},"16":{start:{line:25,column:4},end:{line:34,column:5}},"17":{start:{line:26,column:21},end:{line:26,column:31}},"18":{start:{line:27,column:22},end:{line:27,column:55}},"19":{start:{line:28,column:8},end:{line:30,column:9}},"20":{start:{line:29,column:12},end:{line:29,column:94}},"21":{start:{line:31,column:8},end:{line:31,column:36}},"22":{start:{line:33,column:8},end:{line:33,column:53}},"23":{start:{line:36,column:0},end:{line:44,column:2}},"24":{start:{line:37,column:4},end:{line:43,column:5}},"25":{start:{line:38,column:22},end:{line:38,column:50}},"26":{start:{line:39,column:8},end:{line:39,column:36}},"27":{start:{line:41,column:8},end:{line:41,column:35}},"28":{start:{line:42,column:8},end:{line:42,column:54}},"29":{start:{line:48,column:0},end:{line:48,column:21}}},fnMap:{"0":{name:"(anonymous_0)",decl:{start:{line:5,column:40},end:{line:5,column:41}},loc:{start:{line:5,column:57},end:{line:12,column:1}},line:5},"1":{name:"(anonymous_1)",decl:{start:{line:13,column:42},end:{line:13,column:43}},loc:{start:{line:13,column:58},end:{line:22,column:1}},line:13},"2":{name:"(anonymous_2)",decl:{start:{line:24,column:47},end:{line:24,column:48}},loc:{start:{line:24,column:63},end:{line:35,column:1}},line:24},"3":{name:"(anonymous_3)",decl:{start:{line:36,column:23},end:{line:36,column:24}},loc:{start:{line:36,column:39},end:{line:44,column:1}},line:36}},branchMap:{"0":{loc:{start:{line:28,column:8},end:{line:30,column:9}},type:"if",locations:[{start:{line:28,column:8},end:{line:30,column:9}},{start:{line:28,column:8},end:{line:30,column:9}}],line:28}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0},f:{"0":0,"1":0,"2":0,"3":0},b:{"0":[0,0]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"01769949e6339b71d3cc246fbfb1ef5b8972e62e"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_qmnc59uwy=function(){return actualCoverage;};}return actualCoverage;}cov_qmnc59uwy();const app=(cov_qmnc59uwy().s[0]++,require('express').Router());const Query=(cov_qmnc59uwy().s[1]++,require('../models/queryModel'));const verify=(cov_qmnc59uwy().s[2]++,require('./verifyToken'));const isAdmin=(cov_qmnc59uwy().s[3]++,require('./isAdmin'));cov_qmnc59uwy().s[4]++;app.get('/queriesList',verify,isAdmin,async(req,res)=>{cov_qmnc59uwy().f[0]++;cov_qmnc59uwy().s[5]++;try{const queries=(cov_qmnc59uwy().s[6]++,await Query.find({}));cov_qmnc59uwy().s[7]++;res.status(200).json(queries);}catch(error){cov_qmnc59uwy().s[8]++;res.status(500).json({message:error.message});}});cov_qmnc59uwy().s[9]++;app.get("/viewQuery/:id",verify,isAdmin,async(req,res)=>{cov_qmnc59uwy().f[1]++;cov_qmnc59uwy().s[10]++;try{const{id}=(cov_qmnc59uwy().s[11]++,req.params);const query=(cov_qmnc59uwy().s[12]++,await Query.findById(id));cov_qmnc59uwy().s[13]++;res.status(200).json(query);}catch(error){cov_qmnc59uwy().s[14]++;res.status(500).json({message:error.message});}});cov_qmnc59uwy().s[15]++;app.delete("/deleteQuery/:id",verify,isAdmin,async(req,res)=>{cov_qmnc59uwy().f[2]++;cov_qmnc59uwy().s[16]++;try{const{id}=(cov_qmnc59uwy().s[17]++,req.params);const query=(cov_qmnc59uwy().s[18]++,await Query.findByIdAndDelete(id));cov_qmnc59uwy().s[19]++;if(!query){cov_qmnc59uwy().b[0][0]++;cov_qmnc59uwy().s[20]++;return res.status(404).json({message:`The message with ID: ${id} was not found`});}else{cov_qmnc59uwy().b[0][1]++;}cov_qmnc59uwy().s[21]++;res.status(200).json(query);}catch(error){cov_qmnc59uwy().s[22]++;res.status(500).json({message:error.message});}});cov_qmnc59uwy().s[23]++;app.post('/SendQuery',async(req,res)=>{cov_qmnc59uwy().f[3]++;cov_qmnc59uwy().s[24]++;try{const query=(cov_qmnc59uwy().s[25]++,await Query.create(req.body));cov_qmnc59uwy().s[26]++;res.status(200).json(query);}catch(error){cov_qmnc59uwy().s[27]++;console.log(error.message);cov_qmnc59uwy().s[28]++;res.status(500).json({message:error.message});}});cov_qmnc59uwy().s[29]++;module.exports=app;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJhcHAiLCJyZXF1aXJlIiwiUm91dGVyIiwiUXVlcnkiLCJ2ZXJpZnkiLCJpc0FkbWluIiwiZ2V0IiwicmVxIiwicmVzIiwicXVlcmllcyIsImZpbmQiLCJzdGF0dXMiLCJqc29uIiwiZXJyb3IiLCJtZXNzYWdlIiwiaWQiLCJwYXJhbXMiLCJxdWVyeSIsImZpbmRCeUlkIiwiZGVsZXRlIiwiZmluZEJ5SWRBbmREZWxldGUiLCJwb3N0IiwiY3JlYXRlIiwiYm9keSIsImNvbnNvbGUiLCJsb2ciLCJtb2R1bGUiLCJleHBvcnRzIl0sInNvdXJjZXMiOlsicXVlcmllcy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBhcHAgPSByZXF1aXJlKCdleHByZXNzJykuUm91dGVyKCk7XHJcbmNvbnN0IFF1ZXJ5ID0gcmVxdWlyZSgnLi4vbW9kZWxzL3F1ZXJ5TW9kZWwnKVxyXG5jb25zdCB2ZXJpZnkgPSByZXF1aXJlKCcuL3ZlcmlmeVRva2VuJyk7XHJcbmNvbnN0IGlzQWRtaW4gPSByZXF1aXJlKCcuL2lzQWRtaW4nKVxyXG5hcHAuZ2V0KCcvcXVlcmllc0xpc3QnLCB2ZXJpZnksaXNBZG1pbiwgYXN5bmMocmVxLCByZXMpPT57XHJcbiAgICB0cnl7XHJcbiAgICAgICAgY29uc3QgcXVlcmllcyA9IGF3YWl0IFF1ZXJ5LmZpbmQoe30pXHJcbiAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24ocXVlcmllcyk7XHJcbiAgICB9Y2F0Y2goZXJyb3Ipe1xyXG4gICAgICAgIHJlcy5zdGF0dXMoNTAwKS5qc29uKHttZXNzYWdlOmVycm9yLm1lc3NhZ2V9KVxyXG4gICAgfVxyXG59KVxyXG5hcHAuZ2V0KFwiL3ZpZXdRdWVyeS86aWRcIiwgdmVyaWZ5LGlzQWRtaW4sIGFzeW5jKHJlcSxyZXMpPT57XHJcbiAgICB0cnl7XHJcbiAgICAgICAgY29uc3Qge2lkfSA9IHJlcS5wYXJhbXM7XHJcbiAgICAgICAgY29uc3QgcXVlcnkgPSBhd2FpdCBRdWVyeS5maW5kQnlJZChpZClcclxuICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbihxdWVyeSk7XHJcbiAgICB9Y2F0Y2goZXJyb3Ipe1xyXG4gICAgICAgIHJlcy5zdGF0dXMoNTAwKS5qc29uKHttZXNzYWdlOmVycm9yLm1lc3NhZ2V9KVxyXG4gICAgfVxyXG4gICBcclxufSlcclxuXHJcbmFwcC5kZWxldGUoXCIvZGVsZXRlUXVlcnkvOmlkXCIsIHZlcmlmeSxpc0FkbWluLCBhc3luYyhyZXEscmVzKT0+e1xyXG4gICAgdHJ5e1xyXG4gICAgICAgIGNvbnN0IHtpZH0gPSByZXEucGFyYW1zO1xyXG4gICAgICAgIGNvbnN0IHF1ZXJ5ID0gYXdhaXQgUXVlcnkuZmluZEJ5SWRBbmREZWxldGUoaWQpO1xyXG4gICAgICAgIGlmKCFxdWVyeSl7XHJcbiAgICAgICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwNCkuanNvbih7bWVzc2FnZTogYFRoZSBtZXNzYWdlIHdpdGggSUQ6ICR7aWR9IHdhcyBub3QgZm91bmRgfSlcclxuICAgICAgICB9XHJcbiAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24ocXVlcnkpO1xyXG4gICAgfWNhdGNoKGVycm9yKXtcclxuICAgICAgICByZXMuc3RhdHVzKDUwMCkuanNvbih7bWVzc2FnZTplcnJvci5tZXNzYWdlfSlcclxuICAgIH1cclxufSlcclxuYXBwLnBvc3QoJy9TZW5kUXVlcnknLCBhc3luYyhyZXEscmVzKT0+e1xyXG4gICAgdHJ5e1xyXG4gICAgICAgIGNvbnN0IHF1ZXJ5ID0gYXdhaXQgUXVlcnkuY3JlYXRlKHJlcS5ib2R5KVxyXG4gICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHF1ZXJ5KTtcclxuICAgIH1jYXRjaChlcnJvcil7XHJcbiAgICAgICAgY29uc29sZS5sb2coZXJyb3IubWVzc2FnZSk7XHJcbiAgICAgICAgcmVzLnN0YXR1cyg1MDApLmpzb24oe21lc3NhZ2U6IGVycm9yLm1lc3NhZ2V9KVxyXG4gICAgfVxyXG59KVxyXG5cclxuXHJcblxyXG5tb2R1bGUu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